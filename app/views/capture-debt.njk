{% extends '_layout.njk' %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/date-input/macro.njk" import govukDateInput %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% from "./macros/radio-list.njk" import radioList %}

{% block beforeContent %}
  {{ govukBackLink({
      text: "Back",
      href: "/",
      attributes: {
        id: "back"
      }
    }) 
  }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">Create new reporting dataset</h1>
    </div>
    <div class="govuk-grid-column-two-thirds">

    {% if model.errorMessage %}
      {{ govukErrorSummary({
        titleText: "There is a problem",
        errorList: [
          {
            text: model.errorMessage.text
          }
        ]
      }) 
    }}
    {% endif %}

    <form method="POST" action="/capture-debt" novalidate>
      <input type="hidden" name="crumb" value="{{ crumb }}"/>
      
      <div class="govuk-form-group">
        {{ radioList("Scheme", model.schemes, true) }}
      </div>
      
      <div class="govuk-form-group">
        {{ govukInput({
            label: {
              text: "Firm Reference Number (FRN)",
              classes: "govuk-label--s"
            },
            classes: "govuk-input--width-10",
            id: "frn",
            name: "frn"
          }) 
        }}
      </div>

      <div class="govuk-form-group">
        {{ govukInput({
            label: {
              text: "Application identifier",
              classes: "govuk-label--s"
            },
            hint: {
              text: "Unique reference number to identify application."
            },
            classes: "govuk-input--width-10",
            id: "applicationIdentifier",
            name: "applicationIdentifier"
          }) 
        }}
      </div>

      <div class="govuk-form-group">
        {{ govukInput({
            prefix: {
              text: "Â£"
            },
            label: {
              text: "Net value, in pounds",
              classes: "govuk-label--s"
            },
            classes: "govuk-input--width-5",
            id: "net",
            name: "net"
          }) 
        }}
      </div>

      <div class="govuk-form-group">
        {{ govukRadios({
            classes: "govuk-radios--small",
            name: "debtType",
            value: scheme_name,
            fieldset: {
              legend: {
                text: "Type of debt",
                classes: "govuk-fieldset__legend--s"
              }
            },
            items: [
              {
                text: "Irregular",
                value: "irr"
              },
              {
                text: "Administrative",
                value: "admin"
              }
            ]
          })
        }}
      </div>

      <div class="govuk-form-group">
        {{ govukDateInput({
            id: "debt-discovered",
            namePrefix: "debt-discovered",
            fieldset: {
              legend: {
                text: "Date debt discovered",
                classes: "govuk-fieldset__legend--s"
              }
            },
            hint: {
              text: "For example, 27 3 2007"
            }
          }) 
        }}
      </div>

        {{ govukButton({
            text: "Continue",
            attributes: {
              id: "capture-debt"
            }
          }) 
        }}
    
    </form>

  </div>
{% endblock %}
